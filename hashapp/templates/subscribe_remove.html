{% extends "base.html" %}
{% load staticfiles %}

{% block head %}
<script>

    $(function () {
        var tagsField = $('#removesubscription input[type="text"]');

        $('#unsubscribebutton').prop('disabled', true);
        tagsField.keyup(function() {
            $('#unsubscribebutton').prop('disabled', !/^((\s*)(#[a-z\d-]{1,30})(,?)(\s*))+$/.test(tagsField.val()));
        });
    });
</script>
{% endblock %}

{% block content %}
{% include "navbar.html" %}
<div id='removesubscription' class="content">
	<h1> Remove Subscriptions </h1>
	{% for subscription in current_subscription %}
		<h3> {{ subscription }} </h3>
	{% endfor %}
	<div>
		<form id="the_form" method="post">
			{% csrf_token %}
			<table class="form-group table">
				<tbody>
				<tr>
					<td><p>{{ subscription_form.tags.label_tag }}</p></td>
					<td><p id="tagsfieldparent" class="inputparent">{{ subscription_form.tags }}</p></td>
				</tr>
				</tbody>
			</table>
			<p id="publish" class="text-center">
				<button id="unsubscribebutton" type="submit" class="btn button-green btn-xlg">Unsubscribe</button>
			</p>
		</form>
	</div>
</div>
{% endblock %}